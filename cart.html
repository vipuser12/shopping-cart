<!DOCTYPE html>
<html>

<head>
  <title>Majestic Store</title>
  <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=Clicker+Script&family=Faculty+Glyphic&family=Jost:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap');


:root {
  --gold: #D4AF37;
  --black: #1C1C1C;
  --white: #ffffff;
  --gray: #3E3E3E;
  --light-bg: #fdfcfb;
  --light-gradient:  linear-gradient(90deg, rgba(76, 44, 15, 0.9), rgba(252, 128, 27, 0.9));
  --danger: #dc3545;
  --danger-hover: #b02a37;
}


* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: var(--light-gradient);
  font-family: 'Jost', sans-serif;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background: var(--white);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border-bottom: 2px solid var(--gold);
}

header .logo a {
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: 'Bodoni Moda', serif;
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--black);
  text-decoration: none;
}

nav {
  display: flex;
  align-items: center;
  gap: 40px;
}

nav .user-greeting p {
  color: var(--gray);
  font-weight: bold;
}

nav .cart {
  position: relative;
}

.cart-count {
  position: absolute;
  top: -8px;
  right: -8px;
  background: rgb(243, 91, 91);
  color: var(--white);
  padding: 6px;
  border-radius: 50%;
  font-size: 0.8rem;
  font-weight: bold;
  width: 16px;
  height: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.login-signup {
  display: flex;
  gap: 20px;
}

.login-signup a {
  text-decoration: none;
  font-weight: bold;
  color: var(--black);
  background-color: var(--gold);
  border: 2px solid var(--gold);
  padding: 6px 14px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

.login-signup a:hover {
  background-color: var(--black);
  color: var(--white);
  border-color: var(--black);
}

.nav-item a iconify-icon {
  color: var(--gold);
  transition: color 0.5s ease;
}

.nav-item a:hover iconify-icon {
  color: var(--black);
}

/* Main Section */
main {
  background: var(--light-gradient);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 50px 0;
}

main h2 {
  font-size: 2rem;
}

.search-container {
  display: flex;
  gap: 50px;
  width: 100%;
  justify-content: center;
  margin-bottom: 100px;
}

.search-by select,
.search-input input {
  border: 1px solid var(--gold);
  padding: 10px;
  border-radius: 8px;
}

.search-by select {
  width: 200px;
}

.search-input {
  display: flex;
  gap: 20px;
  align-items: center;
}

.search-input input {
  width: 500px;
}

.search-input button {
  width: 150px;
  padding: 10px;
  font-weight: bold;
  background: var(--gold);
  color: var(--black);
  border: 1px solid var(--gold);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.search-input button:hover {
  background: var(--black);
  color: var(--white);
}

/* Product List */
.product-list {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 30px;
  width: 80%;
}

.product-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  background: var(--white);
  border-radius: 12px;
  padding-bottom: 20px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.product-item:hover {
  transform: translateY(-5px);
}

.product-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: inherit;
}

.product-name {
  font-size: 1.2rem;
  font-weight: bold;
  color: var(--black);
}

.price {
  font-weight: bold;
  color: var(--gold);
}

.category {
  font-size: 0.9rem;
  color: #555;
}

.cart-button {
  display: flex;
  gap: 20px;
  align-items: center;
}

.cart-button iconify-icon {
  color: #E63946;
  cursor: pointer;
  transition: all 0.3s ease;
}

.cart-button iconify-icon:hover {
  transform: scale(1.2);
  color: var(--gold);
}

.cart-button button {
  background: var(--gold);
  color: var(--black);
  padding: 10px 20px;
  border: 1px solid var(--gold);
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s ease;
}

.cart-button button:hover {
  background: var(--black);
  color: var(--white);
}

/* Cart */
.cart-items {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-top: 100px;
}

.cart-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--white);
  padding: 15px 20px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.cart-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.12);
}

.cart-card img {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 10px;
}

.cart-info {
  flex: 1;
  margin-left: 20px;
}

.cart-info h3 {
  font-size: 1.2rem;
  margin-bottom: 5px;
  color: #333;
}

.cart-info p {
  font-size: 14px;
  color: #666;
  margin: 4px 0;
}

.cart-info p:last-child {
  font-weight: bold;
  color: var(--gold);
  font-size: 16px;
}

.quantity-controls {
  display: flex;
  gap: 10px;
  margin-bottom: 8px;
}

.quantity-controls button {
  padding: 5px 10px;
  border: 1px solid var(--gold);
  background: var(--white);
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
}

.quantity-controls button:hover {
  background: var(--gold);
  color: var(--white);
}

.remove-btn {
  background: var(--danger);
  color: var(--white);
  padding: 6px 14px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  transition: background 0.2s ease;
}

.remove-btn:hover {
  background: var(--danger-hover);
}

.total-container,
.cart-summary {
  max-width: 900px;
  margin: 25px auto;
  text-align: right;
  font-size: 1.2rem;
  font-weight: bold;
  color: #333;
}

.total-price {
  font-size: 1.4rem;
  color: var(--gold);
}

.cart-summary .total-price {
  font-size: 2.4rem;
  color: var(--black);
}

/* Favorites */
.favorite-items {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin: 100px auto;
}

.favorite-card {
  display: flex;
  align-items: center;
  background: var(--white);
  padding: 10px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

  </style>

</head>

<body>
  <header>
    <div class="logo">
      <a class="navbar-brand d-inline-flex" href="index.html">
        <img class="d-inline-block" src="https://themewagon.github.io/majestic-2/v1.0.0/assets/img/gallery/logo.png"
          alt="logo">
        <span class="text-1000 fs-0 fw-bold ms-2">Majestic</span>
      </a>
    </div>
    <nav>
      <div class="nav-item user-greeting">
        <p>Hello, User</p>
      </div>
      <div class="nav-item cart">
        <a href="cart.html"><iconify-icon icon="fa:shopping-cart" width="32" height="36"></iconify-icon>
          <span class="cart-count"></span>
        </a>

      </div>
      <div class="login-signup">
        <a href="login.html">Login</a>
        <a href="sign up.html">Sign Up</a>
        <a href="#">Logout</a>
      </div>
    </nav>
  </header>
  <main>
    <h2>Your Cart</h2>
    <div class="cart-items"></div>
    <div class="cart-summary">
      <p class="total-price">Total Price: $0.00</p>
    </div>

    <h2>Favorite Items</h2>
    <div class="favorite-items"></div>

  </main>

  <script>
    const storedUser = JSON.parse(localStorage.getItem("user"));
    const greeting = document.querySelector("header nav .user-greeting p");
    const cartIcon = document.querySelector("header nav .cart");
    const loginLink = document.querySelector(".login-signup a[href='login.html']");
    const signupLink = document.querySelector(".login-signup a[href='sign up.html']");
    const logoutLink = document.querySelector(".login-signup a[href='#']");
    const cartCount = document.querySelector(".cart-count");

    if (storedUser) {
      greeting.style.display = "block";
      greeting.textContent = `Hello, ${storedUser.firstName}`;
      cartIcon.style.display = "block";
      loginLink.style.display = "none";
      signupLink.style.display = "none";
      logoutLink.style.display = "inline-block";
    } else {
      greeting.style.display = "none";
      cartIcon.style.display = "none";
      loginLink.style.display = "inline-block";
      signupLink.style.display = "inline-block";
      logoutLink.style.display = "none";
    }

    logoutLink.addEventListener("click", (e) => {
      e.preventDefault();
      localStorage.removeItem("user");
      window.location.href = "index.html";
    });

    const cartContainer = document.querySelector(".cart-items");
    const totalPriceEl = document.querySelector(".total-price");

    let cartArr = JSON.parse(localStorage.getItem("cart")) || [];

    function renderCart() {
      cartContainer.innerHTML = "";
      let total = 0;
      let totalQuantity = 0;

      if (cartArr.length === 0) {
        cartContainer.innerHTML = `<p style="text-align:center; font-weight:bold;">Your cart is empty 🛒</p>`;
        totalPriceEl.textContent = "Total Price: $0.00";
        cartCount.textContent = "";
        return;
      }

      cartArr.forEach((item, index) => {
        let itemTotal = item.unitPrice * item.quantity;
        total += itemTotal;
        totalQuantity += item.quantity;

        let div = document.createElement("div");
        div.classList.add("cart-card");
        div.innerHTML = `
          <img src="${item.imgUrl}" alt="${item.name}" style="width:100px; height:100px; object-fit:cover; border-radius:8px;">
          <div class="cart-info" style="flex:1; margin-left:15px;">
            <h3 style="margin:0; font-size:1.2rem;">${item.name}</h3>
            <p style="margin:5px 0; color:#666;">Category: ${item.category}</p>
            <p style="margin:5px 0; font-weight:bold; color:#D4AF37;">$${item.unitPrice.toFixed(2)}</p>
          </div>
          <div class="cart-actions">
            <div class="quantity-controls">
              <button class="decrease">-</button>
              <span>${item.quantity}</span>
              <button class="increase">+</button>
            </div>
            <button class="remove-btn">Remove</button>
          </div>
        `;

        div.querySelector(".decrease").addEventListener("click", () => {
          if (item.quantity > 1) {
            item.quantity--;
          } else {
            cartArr.splice(index, 1);
          }
          updateCart();
        });

        div.querySelector(".increase").addEventListener("click", () => {
          item.quantity++;
          updateCart();
        });

        div.querySelector(".remove-btn").addEventListener("click", () => {
          cartArr.splice(index, 1);
          updateCart();
        });

        cartContainer.appendChild(div);
      });

      totalPriceEl.textContent = `Total Price: $${total.toFixed(2)}`;
      cartCount.textContent = totalQuantity > 0 ? totalQuantity : "";
      localStorage.setItem("cart", JSON.stringify(cartArr));
    }

    function updateCart() {
      renderCart();
    }

    function renderFavorites() {
      const favoriteContainer = document.querySelector(".favorite-items");
      const favorites = JSON.parse(localStorage.getItem("favorites")) || [];

      if (favorites.length === 0) {
        favoriteContainer.innerHTML = `<p style="text-align:center;">No favorite items yet ❤️</p>`;
        return;
      }

      favoriteContainer.innerHTML = "";

      favorites.forEach(item => {
        const div = document.createElement("div");
        div.classList.add("favorite-card");
        div.innerHTML = `
          <img src="${item.imgUrl}" alt="${item.name}" style="width:80px; height:80px; object-fit:cover; border-radius:6px;">
          <div style="margin-left:15px;">
            <h4 style="margin:0;">${item.name}</h4>
            <p style="margin:0; color:#777;">$${item.price.toFixed(2)}</p>
            <p style="margin:0; font-size: 0.9rem; color: #aaa;">${item.category}</p>
          </div>
        `;
        favoriteContainer.appendChild(div);
      });
    }

    renderCart();
    renderFavorites();
  </script>

</body>

</html>
